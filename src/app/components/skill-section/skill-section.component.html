<section class="row px-sm-4 mt-4 mx-3">

    <div class="d-flex justify-content-between">
        <h2>Habilidades</h2>
        <button class="btn btn-primary" (click)="addForm()" *ngIf="isLogged()"><i class="bi bi-plus"></i></button>
    </div>

    <div class="px-sm-5 d-flex flex-column">

        <article class="mt-1 d-flex flex-column flex-sm-row col-12 align-items-center justify-content-center justify-content-sm-between py-3" *ngFor = "let skill of skills">
            <h3 class="col-sm-2 me-sm-5 h-100 h-sm-auto fs-4">{{skill.name}}</h3>
            <div class="progress w-75 bar-prog me-2 h-100">
                <div class="progress-bar progress-bar-striped" role="progressbar" [style]="'width: '+skill.percentage+'%'" aria-valuemin="0" aria-valuemax="100">{{skill.percentage}}%</div>
            </div>
            <div class="ms-sm-auto mt-2 mt-sm-auto d-flex justify-content-evenly" *ngIf="isLogged()">
                <button class="btn btn-danger me-2" (click)="removeTag(skill)"><i class="bi bi-trash"></i></button>
                <button class="btn btn-primary"(click)="editForm(skill)"><i class="bi bi-pencil"></i></button>
            </div>
            
        </article>
    </div>

</section>

<div class="backShadow" *ngIf="formSkill" (click)="cancelForm()"></div>

<form class="d-flex flex-column bg-primary formSection" (ngSubmit)="submitForm()"  *ngIf="formSkill">
    <h3 class="text-light">Habilidad</h3>

    <label class="text-light" for="nameSkill">Nombre de la habilidad:</label>
    <input type="text" id="nameSkill" [(ngModel)]="auxSkill.name" name="name" required="true">

    <label class="text-light" for="percentageSkill">Porcentaje de conocimiento:</label>
    <input type="number" id="percentageSkill" [(ngModel)]="auxSkill.percentage" name="percentage" required="true">

    
    <button class="btn btn-light" type="submit">Enviar</button>
    <button class="btn btn-danger" (click)="cancelForm()">Cancelar</button>
</form>
